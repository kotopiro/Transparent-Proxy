<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>New Tab â€” Transparent-Proxy</title>
  <link rel="stylesheet" href="./style/base.css">
  <link rel="stylesheet" href="./style/neon.css">
  <link rel="stylesheet" href="./style/ui.css">
</head>
<body>
  <header class="chrome-top">
    <div class="omnibox-wrapper">
      <input id="omnibox" placeholder="Enter URL" autocomplete="off">
      <button id="btn-go" class="pill go">Go</button>
    </div>
  </header>
  <main id="viewport" class="viewport"></main>
  <script type="module">
    import { openProxiedBlank } from './js/embed.js';
    const omnibox = document.getElementById('omnibox');
    const btnGo = document.getElementById('btn-go');
    btnGo.addEventListener('click', () => {
      let v = omnibox.value.trim();
      if(!v) return;
      if(!/^https?:\/\//i.test(v)) v='https://'+v;
      openProxiedBlank(v);
    });
    omnibox.addEventListener('keydown', e => { if(e.key==='Enter') btnGo.click(); });
  </script>
</body>
</html>
